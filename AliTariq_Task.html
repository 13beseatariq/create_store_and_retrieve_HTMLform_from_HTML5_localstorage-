<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Ali Tariq</title>
<style>
a
{
	color:blue;
	line-height:40px;
	text-decoration:underline;
	font-weight:bold;
}
</style>
<script type="text/javascript">
var json = new Array();
function addfield ()
{
	var form = document.getElementById("form");
	var field = document.createElement("input");
	field.setAttribute("type", "text");
	var label = document.createElement("p");
	var label_input = prompt("Enter Label","");
	label.appendChild(document.createTextNode(""+label_input));
	form.appendChild(label); 
	form.appendChild(field); 
	if (typeof (Storage) !== "undefined") {
    var field = {
        "html": "text",
        "label": ""+label_input
    };
    localStorage.setItem("person",JSON.stringify(field));
	json.push(field);
}

}
function addpassword ()
{
	var form = document.getElementById("form");
	var field = document.createElement("input");
	field.setAttribute("type", "password");
	var label = document.createElement("p");
	var label_input = prompt("Enter Label","");
	label.appendChild(document.createTextNode(""+label_input));
	form.appendChild(label); 
	form.appendChild(field); 
    if (typeof (Storage) !== "undefined") {
    var field = {
        "html": "password",
        "label": ""+label_input
    };
    localStorage.setItem("person",JSON.stringify(field));
	json.push(field);
}
}


function addbutton ()
{
	var form = document.getElementById("form");
	var field = document.createElement("input");
	field.setAttribute("type", "button");
	var label_input = prompt("Enter Label","");
	field.setAttribute("value", ""+label_input);
	form.appendChild(field);
    if (typeof (Storage) !== "undefined") {
    var field = {
        "html": "button",
        "label": ""+label_input
    };
    localStorage.setItem("person",JSON.stringify(field));
	json.push(field);
} 
}
function addtextarea ()
{
	var form = document.getElementById("form");
	var field = document.createElement("textarea");
	field.setAttribute("rows", "10");
	field.setAttribute("cols", "50");
	var label = document.createElement("p");
	var label_input = prompt("Enter Label","");
	label.appendChild(document.createTextNode(""+label_input));
	form.appendChild(label); 
	form.appendChild(field); 
	
	if (typeof (Storage) !== "undefined") {
    var field = {
        "html": "textarea",
		"label": ""+label_input
    };
    localStorage.setItem("person",JSON.stringify(field));
	json.push(field);
}
}
function addsubmitbutton ()
{
	var form = document.getElementById("form");
	var field = document.createElement("input");
	field.setAttribute("type", "submit");
	form.appendChild(field); 
	if (typeof (Storage) !== "undefined") {
    var field = {
        "html": "submit"
    };
    localStorage.setItem("person",JSON.stringify(field));
	json.push(field);
} 
}

function printdata()
{
	var form = document.getElementById("form");
	var p = document.createElement("p");
	p.appendChild(document.createTextNode("New Retrieved Form"));
	form.appendChild(p);
	for (var i=0;i<json.length; i++)
	{
	   if (json[i].html=="textarea")
	   {
		    var form = document.getElementById("form");
			var field = document.createElement("textarea");
			field.setAttribute("rows", "10");
			field.setAttribute("cols", "50");
			var label = document.createElement("p");
			label.appendChild(document.createTextNode(""+json[i].label));
			form.appendChild(label); 
			form.appendChild(field); 	
	   }
	   else if (json[i].html=="submit")
	   {
		   	var form = document.getElementById("form");
			var field = document.createElement("input");
			field.setAttribute("type", "submit");
			form.appendChild(field);
			 
	    }
		else
		{
			var form = document.getElementById("form");
			var field = document.createElement("input");
			var label = document.createElement("p");
			if (json[i].html=="text")
			{		
			field.setAttribute("type", "text");
			label.appendChild(document.createTextNode(""+json[i].label));
			}
			else if  (json[i].html=="password")
			{
				field.setAttribute("type", "password");
				label.appendChild(document.createTextNode(""+json[i].label));
			}
			else if  (json[i].html=="button")
			{
				field.setAttribute("type", "button");
				field.setAttribute("value", ""+json[i].label);
			}
						
			form.appendChild(label); 
			form.appendChild(field); 
		}
		
	}
	
}


</script>
</head>

<body>
<div id="first_div" style="width:50%; float:left"> &nbsp;&nbsp;&nbsp;
<form id="form" action="submitb()"> 
</form>
</div>
<div id="second_div" style="width:50%; float:right">
<a rel="" onClick="addfield()" > Add Text Field </a> <br>
<a rel="" onClick="addpassword()" > Add Password Field </a> <br>
<a rel="" onClick="addbutton()" > Add Button </a> <br>
<a rel="" onClick="addtextarea()" > Add Text Area </a> <br>
<a rel="" onClick="addsubmitbutton()" > Add Submit Button </a> <br>
<input type="button" onClick="printdata()"  value="Retrieve Data">  <br>
 </div>
</body>
</html>
